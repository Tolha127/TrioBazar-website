(()=>{"use strict";var e={100:(e,a,s)=>{window.process=window.process||{},window.process.browser=!0,window.process.env=window.process.env||{};window.process;var t=s(43),n=s(391),r=s(318),i=s(971),o=s(206),c=s(579);const l=()=>{const[e,a]=(0,t.useState)(!1);return(0,c.jsx)("header",{className:"header",children:(0,c.jsxs)("div",{className:"container header-container",children:[(0,c.jsx)("div",{className:"logo",children:(0,c.jsx)(r.N_,{to:"/",children:(0,c.jsx)("img",{src:o,alt:"TrioBazaar"})})}),(0,c.jsxs)("div",{className:"mobile-menu-icon "+(e?"active":""),onClick:()=>{a(!e)},children:[(0,c.jsx)("span",{}),(0,c.jsx)("span",{}),(0,c.jsx)("span",{})]}),(0,c.jsxs)("nav",{className:"nav-menu "+(e?"active":""),children:["          ",(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/",onClick:()=>a(!1),children:"Home"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/about",onClick:()=>a(!1),children:"About"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/products",onClick:()=>a(!1),children:"Products"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.N_,{to:"/contact",onClick:()=>a(!1),children:"Contact"})})]})]})]})})},d=()=>{const e=(new Date).getFullYear();return(0,c.jsxs)("footer",{className:"footer",children:[(0,c.jsxs)("div",{className:"footer-grid",children:[(0,c.jsxs)("div",{className:"footer-brand",children:[(0,c.jsxs)("div",{className:"footer-logo",children:["Trio",(0,c.jsx)("span",{children:"Bazar"})]}),(0,c.jsx)("p",{className:"footer-about",children:"Premium tailoring services delivering exceptional quality and perfect fit for every client."}),(0,c.jsxs)("div",{className:"footer-social",children:[(0,c.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"social-icon",children:(0,c.jsx)("i",{className:"fab fa-facebook-f"})}),(0,c.jsx)("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"social-icon",children:(0,c.jsx)("i",{className:"fab fa-linkedin-in"})}),"            ",(0,c.jsx)("a",{href:"https://www.instagram.com/trio_bazaar_wears?igsh=NXpnODg0cnEzMDRm",target:"_blank",rel:"noopener noreferrer",className:"social-icon",children:(0,c.jsx)("i",{className:"fab fa-instagram"})}),"            ",(0,c.jsx)("a",{href:"https://wa.me/2349167108795?text=Hello%20TrioBazaar!%20I'm%20interested%20in%20your%20tailoring%20services.%20I%20would%20like%20to%20know%20more%20about%20your%20offerings.",target:"_blank",rel:"noopener noreferrer",className:"social-icon",children:(0,c.jsx)("i",{className:"fab fa-whatsapp"})})]})]}),(0,c.jsxs)("div",{className:"footer-links-column",children:[(0,c.jsx)("h3",{className:"footer-heading",children:"Quick Links"}),"          ",(0,c.jsxs)("ul",{className:"footer-links",children:[(0,c.jsx)("li",{className:"footer-link",children:(0,c.jsx)(r.N_,{to:"/",children:"Home"})}),(0,c.jsx)("li",{className:"footer-link",children:(0,c.jsx)(r.N_,{to:"/products",children:"Collections"})}),(0,c.jsx)("li",{className:"footer-link",children:(0,c.jsx)(r.N_,{to:"/about",children:"About Us"})}),(0,c.jsx)("li",{className:"footer-link",children:(0,c.jsx)(r.N_,{to:"/contact",children:"Book Appointment"})})]})]}),(0,c.jsxs)("div",{className:"footer-links-column",children:[(0,c.jsx)("h3",{className:"footer-heading",children:"Customer Service"}),(0,c.jsx)("ul",{className:"footer-links",children:(0,c.jsx)("li",{className:"footer-link",children:(0,c.jsx)(r.N_,{to:"/contact",children:"Contact Us"})})})]}),(0,c.jsxs)("div",{className:"footer-contact",children:[(0,c.jsx)("h3",{className:"footer-heading",children:"Contact Us"}),"          ",(0,c.jsxs)("div",{className:"footer-contact-item",children:[(0,c.jsx)("span",{className:"contact-icon",children:(0,c.jsx)("i",{className:"fas fa-map-marker-alt"})}),(0,c.jsx)("span",{children:"No 64, Ifesowapo Road2, Off Ikire-Ile Road, Iwo, Osun State"})]}),(0,c.jsxs)("div",{className:"footer-contact-item",children:[(0,c.jsx)("span",{className:"contact-icon",children:(0,c.jsx)("i",{className:"fas fa-phone-alt"})}),(0,c.jsx)("span",{children:"+234 916 710 8795"})]}),"          ",(0,c.jsxs)("div",{className:"footer-contact-item",children:[(0,c.jsx)("span",{className:"contact-icon",children:(0,c.jsx)("i",{className:"fas fa-envelope"})}),(0,c.jsx)("span",{children:"info@trioBazaar.com"})]})]})]}),"      ",(0,c.jsx)("div",{className:"footer-bottom",children:(0,c.jsxs)("p",{children:["\xa9 ",e," TrioBazaar Tailoring. All Rights Reserved."]})})]})};const m=function(){return(0,c.jsxs)("section",{className:"hero",children:[(0,c.jsxs)("div",{className:"hero-content",children:[(0,c.jsx)("h1",{children:"Bespoke Clothing for the Modern Individual"}),(0,c.jsx)("p",{children:"Handcrafted garments tailored to your unique style and measurements. Experience the perfect fit and exceptional quality that only custom tailoring can provide."}),(0,c.jsxs)("div",{className:"hero-buttons",children:[(0,c.jsx)(r.N_,{to:"/contact",className:"cta-button",children:"Book Consultation"}),(0,c.jsx)(r.N_,{to:"/products",className:"secondary-button",children:"View Collections"})]})]}),"      ",(0,c.jsx)("div",{className:"hero-image",children:(0,c.jsx)("img",{className:"product-display",src:s(206),alt:"Custom tailored attire"})})]})};const h=function(){return(0,c.jsx)("section",{className:"features-section",children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)("h2",{className:"section-title",children:"Why Choose TrioBazar"}),(0,c.jsx)("div",{className:"features-grid",children:[{icon:"\u2702\ufe0f",title:"Expert Tailoring",description:"Our master tailors have decades of experience creating perfect-fitting Islamic garments for any body type."},{icon:"\ud83e\uddf5",title:"Premium Fabrics",description:"We source the finest fabrics from around the world to ensure comfort, durability, and elegance in modest fashion."},{icon:"\ud83d\udc54",title:"Perfect Fit Guarantee",description:"We guarantee a perfect fit or we'll alter your garment at no additional cost."}].map(((e,a)=>(0,c.jsxs)("div",{className:"feature-card",children:[(0,c.jsx)("div",{className:"feature-icon",children:e.icon}),(0,c.jsx)("h3",{className:"feature-title",children:e.title}),(0,c.jsx)("p",{className:"feature-description",children:e.description})]},a)))})]})})};const u=function(){return(0,c.jsx)("section",{id:"about",className:"about",children:(0,c.jsxs)("div",{className:"about-container",children:[(0,c.jsx)("h2",{className:"section-title",children:"Our Craft"}),(0,c.jsx)("p",{children:"At TrioBazaar, we believe that well-crafted Islamic clothing should be accessible to everyone. Founded by three siblings with a passion for modest fashion, we've been creating custom wears for over 3 years with a simple mission: to create high-quality, custom-tailored garments that enhance the wearer's confidence and style."}),(0,c.jsx)("p",{children:"Each piece is meticulously crafted by our team of skilled artisans who combine traditional tailoring techniques with modern innovations to create garments that are both timeless and contemporary."}),(0,c.jsxs)("div",{className:"mission-statement",children:[(0,c.jsx)("h3",{children:"Our Mission"}),(0,c.jsx)("p",{children:'"We are dedicated to designing exceptional, timeless attire that transcends age and size, empowering women to embrace their unique beauty and confidence. Our commitment is to deliver clothing that fits flawlessly, celebrates individuality, and enhances every woman\'s sense of grace, elegance, and strength, allowing her to shine in her own way."'})]}),(0,c.jsx)(r.N_,{to:"/about",className:"cta-button",children:"Learn More About Us"})]})})};var x=s(497);const p=x.A.create({baseURL:"https://triobazar-website.onrender.com/api"}),g=(0,t.createContext)(),j=()=>(0,t.useContext)(g),v=e=>{let{children:a}=e;const[s,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{d()}),[]);const d=async()=>{try{console.log("Fetching products from server...");const e=(new Date).getTime(),a=await p.get(`/products?_t=${e}`);console.log("Products fetched:",a.data.length);const s=a.data.map((e=>(e.image&&"string"===typeof e.image&&e.image.startsWith("/uploads")&&(e.image=`http://localhost:5000${e.image}`),e)));n(s),i(!1)}catch(e){console.error("Error fetching products:",e),l(e.message),i(!1)}},m={products:s,loading:r,error:o,fetchProducts:d,addProduct:async e=>{try{const a=localStorage.getItem("adminToken");if(!a)throw console.error("Authentication token not found. Please log in again."),new Error("No authentication token found. Please log in.");if(e.image instanceof File){const s=new FormData;if(!e.name||e.name.length<3)throw new Error("Product name is required and must be at least 3 characters");if(!e.category)throw new Error("Product category is required");if(!e.code||e.code.length<5){const a=(new Date).getTime(),s=Math.floor(1e4*Math.random()).toString().padStart(4,"0");e.code=`${a.toString().slice(-6)}${s}`}for(const a in e)"image"===a?s.append("image",e.image):s.append(a,e[a]);const t={headers:{"x-auth-token":a}},r=await p.post("/products/with-image",s,t),i=r.data;return n((e=>[...e,i])),await d(),r.data}{const t={headers:{"Content-Type":"application/json","x-auth-token":a}};"string"===typeof e.image&&e.image.startsWith("blob:")&&(e.image="placeholder.jpg");const r=await p.post("/products",e,t);return n([...s,r.data]),r.data}}catch(a){throw l(a.message),a}},updateProduct:async(e,a)=>{try{const t={headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("adminToken")}},r=await p.put(`/products/${e}`,a,t);return n(s.map((a=>a._id===e?r.data:a))),r.data}catch(t){throw l(t.message),t}},deleteProduct:async e=>{try{const a=localStorage.getItem("adminToken");if(!a)throw console.error("No admin token found. Please log in again."),new Error("Authentication required. Please log in.");console.log(`Attempting to delete product with ID: ${e}`);const t=await p.delete(`/products/${e}`,{headers:{"x-auth-token":a}});return console.log("Delete response:",t.data),n(s.filter((a=>a._id!==e))),!0}catch(a){throw console.error("Delete product error:",a.response?a.response.data:a.message),l(a.message),a}},addRating:async(e,a)=>{try{const t=await p.post(`/products/${e}/ratings`,a);return n(s.map((a=>a._id===e?t.data:a))),t.data}catch(t){throw l(t.message),t}},deleteAllProducts:async()=>{try{const e=localStorage.getItem("adminToken");if(!e)throw new Error("Authentication required. Please log in again.");const a=await p.delete("/products/delete-all",{headers:{"x-auth-token":e}});return localStorage.removeItem("cachedProducts"),n([]),await d(),{success:!0,deletedCount:a.data.deletedCount,imagesDeleted:a.data.imagesDeleted,message:a.data.message}}catch(e){throw console.error("Delete all products error:",e),l(e.message),e}}};return(0,c.jsx)(g.Provider,{value:m,children:a})},N=e=>{let{rating:a=0,editable:s=!1,onChange:t,size:n="medium"}=e;const r=Math.round(2*a)/2,i=[];for(let o=1;o<=5;o++){let e="star-empty";o<=r?e="star-full":o-.5===r&&(e="star-half"),i.push((0,c.jsx)("span",{className:`star ${e} ${s?"star-editable":""} star-${n}`,onClick:()=>{return e=o,void(s&&t&&t(e));var e},title:s?`Rate ${o} stars`:`${a} out of 5 stars`,children:"star-half"===e||"star-full"===e?"\u2605":"\u2606"},o))}return(0,c.jsxs)("div",{className:"star-rating",children:[i,r>0&&(0,c.jsx)("span",{className:"rating-number",children:r.toFixed(1)})]})};const f=function(){const{products:e}=j(),a=[...e].sort(((e,a)=>new Date(a.createdAt)-new Date(e.createdAt))).slice(0,3);return(0,c.jsxs)("section",{id:"products",className:"products",children:[(0,c.jsx)("h2",{className:"section-title",children:"Featured Collections"}),(0,c.jsx)("div",{className:"products-grid",children:a.length>0?a.map((e=>(0,c.jsx)("div",{className:"product-card",children:(0,c.jsxs)(r.N_,{to:`/products/${e._id}`,children:[(0,c.jsx)("div",{className:"featured-product-image",children:(0,c.jsx)("img",{src:"placeholder.jpg"===e.image?"https://via.placeholder.com/400/300?text=Islamic+Clothing":e.image.startsWith("http")?e.image:`https://triobazar-website.onrender.com/api${e.image}`,alt:e.name,onError:e=>{console.error("Image failed to load:",e.target.src),e.target.src="https://via.placeholder.com/400/300?text=Image+Not+Found"}})}),(0,c.jsxs)("div",{className:"product-info",children:[(0,c.jsx)("h3",{className:"product-name",children:e.name}),(0,c.jsx)("p",{className:"product-price",children:e.price}),(0,c.jsx)("div",{className:"product-meta",children:(0,c.jsx)(N,{rating:e.averageRating,size:"small"})}),(0,c.jsx)("span",{className:"view-details",children:"View Details"})]})]})},e._id))):(0,c.jsxs)("div",{className:"no-products-message",children:[(0,c.jsx)("p",{children:"No products found in the database. Please add products through the admin panel."}),(0,c.jsx)(r.N_,{to:"/admin",className:"add-to-cart",children:"Go to Admin Panel"})]})})]})},b=(0,t.createContext)(),y=()=>(0,t.useContext)(b),w="https://triobazar-website.onrender.com/api",k=e=>{let{children:a}=e;const[s,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{d()}),[]);const d=async()=>{try{const e=await x.A.get(`${w}/testimonials`);n(e.data),i(!1)}catch(e){l(e.message),i(!1)}},m={testimonials:s,loading:r,error:o,addTestimonial:async e=>{try{const a={headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("adminToken")}},t=await x.A.post(`${w}/testimonials`,e,a);return n([...s,t.data]),t.data}catch(a){throw l(a.message),a}},updateTestimonial:async e=>{try{const a={headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("adminToken")}},t=await x.A.put(`${w}/testimonials/${e._id}`,e,a);return n(s.map((a=>a._id===e._id?t.data:a))),t.data}catch(a){throw l(a.message),a}},deleteTestimonial:async e=>{try{const a={headers:{"x-auth-token":localStorage.getItem("adminToken")}};await x.A.delete(`${w}/testimonials/${e}`,a),n(s.filter((a=>a._id!==e)))}catch(a){throw l(a.message),a}},getAvatarByGender:e=>"female"===e?"https://cdn.pixabay.com/photo/2014/04/02/14/10/female-306407_960_720.png":"https://cdn.pixabay.com/photo/2014/04/02/14/10/male-306408_960_720.png"};return(0,c.jsx)(b.Provider,{value:m,children:a})};const C=function(){const{testimonials:e,getAvatarByGender:a}=y();return console.log("Rendering Testimonials component with:",e),(0,c.jsxs)("section",{className:"testimonials",children:[(0,c.jsx)("h2",{className:"section-title",children:"What Our Clients Say"}),(0,c.jsxs)("div",{className:"testimonials-container",children:[(0,c.jsx)("div",{className:"testimonial-grid",children:e.map(((e,s)=>(0,c.jsxs)("div",{className:"testimonial-card",children:[(0,c.jsxs)("p",{className:"testimonial-text",children:['"',e.text,'"']}),"              ",(0,c.jsxs)("div",{className:"testimonial-author",children:[(0,c.jsx)("img",{src:a(e.gender),alt:`${e.name} avatar`,className:"author-avatar"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"author-name",children:e.name}),(0,c.jsx)("div",{className:"author-role",children:e.role})]})]}),(0,c.jsx)("div",{className:"quote-icon",children:'"'})]},s)))}),"      "]})]})},S=()=>(0,c.jsxs)("div",{className:"home-page",children:[(0,c.jsx)(m,{}),(0,c.jsx)(h,{}),(0,c.jsx)(u,{}),(0,c.jsx)(f,{}),(0,c.jsx)("section",{className:"section about-preview",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"about-content",children:["          ",(0,c.jsxs)("div",{className:"about-text",children:[(0,c.jsx)("h2",{children:"About TrioBazaar"}),"              ",(0,c.jsx)("p",{children:"Trio Bazaar is an entrepreneurial firm dedicated to making both modest and expressive designs for women across ages and regions. They look to breach timeline, culture and trend by creatively blending modesty with several cultures and fashion while they sometimes blend cultures' modesty into one another."}),(0,c.jsx)("p",{children:"Trio Bazaar is led by obeisance to Islamic guide on dressing, therefore, they push towards and encourage the adoption of modesty by what they do."}),(0,c.jsx)("a",{href:"/about",className:"btn btn-secondary learn-more-btn",children:"Learn More"})]}),(0,c.jsx)("div",{className:"about-image",children:(0,c.jsx)("img",{src:s(206),alt:"TrioBazaar Modest Fashion",className:"about-img"})})]})})}),"      ",(0,c.jsx)(C,{}),"      ",(0,c.jsx)("section",{className:"section contact-cta",children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)("h2",{children:"Ready to order your custom clothing?"}),(0,c.jsx)("p",{children:"Contact us via WhatsApp to discuss your requirements and place an order."}),(0,c.jsx)("a",{href:"https://wa.me/2349167108795?text=Hello%20TrioBazaar!%20I'm%20interested%20in%20your%20tailoring%20services.%20I%20would%20like%20to%20know%20more%20about%20your%20offerings.",target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",children:"Chat on WhatsApp"})]})})]});const T=function(){const{testimonials:e,getAvatarByGender:a}=y();return(0,c.jsxs)("div",{className:"about-page bg-gray-100 py-10",children:[(0,c.jsx)("div",{className:"container mx-auto px-4",children:(0,c.jsxs)("section",{className:"about-section text-center mb-10",children:[(0,c.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-6",children:"About TrioBazaar"}),(0,c.jsx)("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Trio Bazaar is an entrepreneural firm dedicated to making both modest and expressive designs for women across ages and regions. They look to breach timeline, culture and trend by creatively blending modesty with several cultures and fashion while they sometimes blend cultures' modesty into one another. They can be just as conservative as they can be contemporary."}),(0,c.jsx)("p",{className:"text-gray-600 leading-relaxed",children:"Trio Bazaar is led by obeisance to Islamic guide on dressing, therefore, they push towards and encourage the adoption of modesty by what they do."})]})}),(0,c.jsx)("div",{className:"container mx-auto px-4 mt-10",children:(0,c.jsxs)("section",{className:"testimonials-section",children:[(0,c.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4 text-center",children:"Customer Testimonials"}),(0,c.jsx)("div",{className:"testimonials-container space-y-6",children:e.length>0?e.map(((e,s)=>(0,c.jsxs)("div",{className:"testimonial-card bg-white p-6 rounded-lg shadow-md",children:[(0,c.jsxs)("p",{className:"testimonial-text text-gray-600 italic mb-4",children:['"',e.text,'"']}),(0,c.jsxs)("div",{className:"testimonial-author flex items-center",children:[(0,c.jsx)("img",{src:a(e.gender),alt:`${e.name} avatar`,className:"author-avatar w-12 h-12 rounded-full mr-4"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"author-name font-semibold text-gray-800",children:e.name}),(0,c.jsx)("div",{className:"author-role text-sm text-gray-500",children:e.role})]})]})]},e.id||s))):(0,c.jsx)("div",{className:"no-testimonials text-gray-500 text-center",children:(0,c.jsx)("p",{children:"Be the first to leave a testimonial!"})})})]})})]})},P=e=>{let{image:a,alt:s,onClose:t}=e;return(0,c.jsx)("div",{className:"image-preview-modal",onClick:e=>{e.target.classList.contains("image-preview-modal")&&t()},children:(0,c.jsxs)("div",{className:"modal-content",children:[(0,c.jsx)("span",{className:"close-button",onClick:t,children:"\xd7"}),(0,c.jsx)("img",{src:a,alt:s})]})})},A=()=>{const{products:e}=j(),[a,s]=(0,t.useState)("All"),[n,i]=(0,t.useState)(null),o=["All",...new Set(e.map((e=>e.category)))],l="All"===a?e:e.filter((e=>e.category===a));return(0,c.jsxs)("div",{className:"products-page",children:[(0,c.jsx)("section",{className:"page-header",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("h1",{children:"Our Products"})})}),(0,c.jsx)("section",{className:"section",children:(0,c.jsx)("div",{className:"container",children:0===e.length?(0,c.jsx)("p",{children:"No products available at the moment."}):(0,c.jsxs)(t.Fragment,{children:[n&&(0,c.jsx)(P,{image:n.src,alt:n.alt,onClose:()=>{i(null)}}),(0,c.jsx)("div",{className:"product-filters",children:(0,c.jsxs)("div",{className:"category-filter",children:[(0,c.jsx)("label",{children:"Filter by Category:"}),(0,c.jsx)("div",{className:"filter-buttons",children:o.map((e=>(0,c.jsx)("button",{className:a===e?"active":"",onClick:()=>s(e),children:e},e)))})]})}),(0,c.jsxs)("div",{className:"products-grid",children:["                ",l.map((e=>(0,c.jsx)("div",{className:"product-card temu-style",children:(0,c.jsxs)(r.N_,{to:`/products/${e.id}`,className:"product-link",children:[(0,c.jsx)("div",{className:"product-image",children:(0,c.jsx)("img",{src:"placeholder.jpg"===e.image?"https://via.placeholder.com/300x300?text=Islamic+Clothing":e.image,alt:e.name})}),(0,c.jsxs)("div",{className:"product-info",children:[(0,c.jsx)("h3",{className:"product-name",children:e.name}),e.price&&(0,c.jsx)("p",{className:"product-price",children:e.price}),(0,c.jsx)("p",{className:"product-category",children:e.category}),(0,c.jsxs)("div",{className:"product-meta",children:[(0,c.jsx)(N,{rating:e.averageRating,size:"small"}),e.numReviews>0?(0,c.jsxs)("span",{className:"product-sold",children:[e.numReviews," ",1===e.numReviews?"Review":"Reviews"]}):(0,c.jsx)("span",{className:"product-sold",children:"Hot Item"})]}),e.description&&(0,c.jsx)("p",{className:"product-description",children:e.description.length>60?e.description.substring(0,60)+"...":e.description}),"                        ",(0,c.jsx)("a",{href:`https://wa.me/2349167108795?text=Hello%20TrioBazaar,%20I'm%20interested%20in%20your%20${e.name}%20(Product%20Code:%20${e.code}).%20Please%20provide%20more%20information.`,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-enquiry",onClick:e=>e.stopPropagation(),children:"Enquire via WhatsApp"})]})]})},e.id)))]})]})})})]})},I=()=>{const{productId:e}=(0,i.g)(),{products:a}=j(),s=(0,i.Zp)(),t=a.find((a=>a._id===e||a.id===e));return t?(0,c.jsxs)("div",{className:"product-detail-page",children:[(0,c.jsx)("section",{className:"page-header",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("h1",{children:t.name})})}),(0,c.jsx)("section",{className:"product-detail-section",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"product-detail-content",children:["            ",(0,c.jsx)("div",{className:"product-detail-image",children:(0,c.jsx)("img",{src:"placeholder.jpg"===t.image?"https://via.placeholder.com/600x600?text=Islamic+Clothing":t.image.startsWith("http")?t.image:`https://triobazar-website.onrender.com/api${t.image}`,alt:t.name,onError:e=>{console.error("Image failed to load:",e.target.src),e.target.src="https://via.placeholder.com/600x600?text=Image+Not+Found"}})}),(0,c.jsxs)("div",{className:"product-detail-info",children:[(0,c.jsx)("h2",{children:t.name}),t.code&&(0,c.jsxs)("p",{className:"product-code",children:["Product Code: ",t.code]}),(0,c.jsxs)("p",{className:"product-category",children:["Category: ",t.category]}),t.price&&(0,c.jsx)("p",{className:"product-price",children:t.price}),(0,c.jsxs)("div",{className:"product-description",children:[(0,c.jsx)("h3",{children:"Description"}),(0,c.jsx)("p",{children:t.description||"No description available for this product."})]}),t.material&&(0,c.jsxs)("div",{className:"product-material",children:[(0,c.jsx)("h3",{children:"Material"}),(0,c.jsx)("p",{children:t.material})]}),t.sizes&&(0,c.jsxs)("div",{className:"product-sizes",children:[(0,c.jsx)("h3",{children:"Available Sizes"}),(0,c.jsx)("p",{children:t.sizes})]}),t.colors&&(0,c.jsxs)("div",{className:"product-colors",children:[(0,c.jsx)("h3",{children:"Available Colors"}),(0,c.jsx)("p",{children:t.colors})]}),"                ",(0,c.jsxs)("div",{className:"product-actions",children:["                ",(0,c.jsxs)("a",{href:`https://wa.me/2349167108795?text=Hello%20TrioBazaar,%20I'm%20interested%20in%20your%20${t.name}%20(Product%20Code:%20${t.code}).%20Please%20provide%20more%20information.`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-whatsapp",children:[(0,c.jsx)("span",{className:"whatsapp-icon",children:"\ud83d\udcac"})," Enquire via WhatsApp"]}),(0,c.jsx)("button",{className:"btn btn-secondary",onClick:()=>s("/products"),children:"Back to Products"})]})]})]})})})]}):(0,c.jsx)("div",{className:"product-detail-page",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"product-not-found",children:[(0,c.jsx)("h2",{children:"Product Not Found"}),(0,c.jsx)("p",{children:"Sorry, the product you're looking for doesn't exist."}),(0,c.jsx)("button",{className:"btn btn-primary",onClick:()=>s("/products"),children:"Back to Products"})]})})})};var _=s(369);const z=(0,t.createContext)(),E=()=>(0,t.useContext)(z),q="https://triobazar-website.onrender.com/api",F=e=>{let{children:a}=e;const[s,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{localStorage.getItem("adminToken")&&d()}),[]);const d=async()=>{try{const e={headers:{"x-auth-token":localStorage.getItem("adminToken")}},a=await x.A.get(`${q}/messages`,e);n(a.data),i(!1)}catch(e){l(e.message),i(!1)}},m={messages:s,loading:r,error:o,addMessage:async e=>{try{const a=await x.A.post(`${q}/messages`,e);return localStorage.getItem("adminToken")&&n([...s,a.data]),a.data}catch(a){throw l(a.message),a}},markAsRead:async e=>{try{const a={headers:{"x-auth-token":localStorage.getItem("adminToken")}},t=await x.A.put(`${q}/messages/${e}/read`,{},a);return n(s.map((a=>a._id===e?t.data:a))),t.data}catch(a){throw l(a.message),a}},deleteMessage:async e=>{try{const a={headers:{"x-auth-token":localStorage.getItem("adminToken")}};await x.A.delete(`${q}/messages/${e}`,a),n(s.filter((a=>a._id!==e)))}catch(a){throw l(a.message),a}}};return(0,c.jsx)(z.Provider,{value:m,children:a})},$=()=>{const{addMessage:e}=E(),[a,s]=(0,t.useState)({name:"",email:"",message:""}),[n,r]=(0,t.useState)(""),i=e=>{s({...a,[e.target.name]:e.target.value})};return(0,c.jsxs)("div",{className:"contact-page",children:[(0,c.jsx)("section",{className:"page-header contact-header",children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)("h1",{children:"Get In Touch"}),(0,c.jsx)("p",{children:"We'd love to hear from you. Contact us for any inquiries or to place an order."})]})}),(0,c.jsx)("section",{className:"section contact-content",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"contact-grid",children:[(0,c.jsxs)("div",{className:"contact-form-container",children:[(0,c.jsx)("h2",{children:"Send Us a Message"}),"              ","success"===n&&(0,c.jsx)("div",{className:"success-message",children:"Message sent successfully! We'll get back to you soon."}),(0,c.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e(a),r("success"),s({name:"",email:"",message:""}),setTimeout((()=>r("")),3e3)},className:"contact-form",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"name",children:"Your Name"}),(0,c.jsx)("input",{type:"text",id:"name",name:"name",value:a.name,onChange:i,required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,c.jsx)("input",{type:"email",id:"email",name:"email",value:a.email,onChange:i,required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"message",children:"Your Message"}),(0,c.jsx)("textarea",{id:"message",name:"message",value:a.message,onChange:i,rows:"5",required:!0})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Send Message"})]})]}),(0,c.jsxs)("div",{className:"contact-info",children:[(0,c.jsx)("h2",{children:"Contact Information"}),(0,c.jsx)("p",{children:"We prioritize personalized service. Reach out to us through any of these channels:"}),(0,c.jsxs)("div",{className:"contact-methods",children:[(0,c.jsxs)("div",{className:"contact-method",children:[(0,c.jsx)(_.maD,{className:"contact-icon"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{children:"Email"}),"                    ",(0,c.jsx)("p",{children:"info@triobazaar.com"}),(0,c.jsx)("a",{href:"mailto:info@triobazaar.com",className:"btn btn-outline",children:"Send Email"})]})]}),(0,c.jsxs)("div",{className:"contact-method whatsapp-contact",children:[(0,c.jsx)(_.EcP,{className:"contact-icon"}),(0,c.jsxs)("div",{children:["                    ",(0,c.jsx)("h3",{children:"WhatsApp"}),(0,c.jsx)("p",{children:"+234 916 710 8795"}),(0,c.jsx)("a",{href:"https://wa.me/2349167108795?text=Hello%20TrioBazaar!%20I'm%20interested%20in%20your%20tailoring%20services.%20I%20would%20like%20to%20know%20more%20about%20your%20offerings.",target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline",children:"Chat on WhatsApp"})]})]})]}),(0,c.jsxs)("div",{className:"social-media-container",children:[(0,c.jsx)("h3",{children:"Follow Us"}),"              ",(0,c.jsxs)("div",{className:"social-links",children:[(0,c.jsxs)("a",{href:"https://instagram.com/triobazaar",target:"_blank",rel:"noopener noreferrer",className:"social-link instagram",children:[(0,c.jsx)(_.ao$,{}),(0,c.jsx)("span",{children:"Instagram"})]}),(0,c.jsxs)("a",{href:"https://facebook.com/triobazaar",target:"_blank",rel:"noopener noreferrer",className:"social-link facebook",children:[(0,c.jsx)(_.iYk,{}),(0,c.jsx)("span",{children:"Facebook"})]})]})]})]})]})})}),(0,c.jsx)("section",{className:"section map-section",children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)("h2",{children:"Our Location"}),(0,c.jsxs)("div",{className:"map-container",children:[(0,c.jsx)("iframe",{title:"TrioBazaar Location",width:"100%",height:"450",style:{border:0},loading:"lazy",allowFullScreen:!0,src:"https://www.google.com/maps/embed/v1/place?key=AIzaSyCX5QMZ9LeBgj7zkwyeSFY9BQ4YzTJgnHI\n                &q=7.662250,4.205833&zoom=15"}),(0,c.jsxs)("div",{className:"address-container",children:[(0,c.jsx)("h3",{children:"Visit Our Store"}),(0,c.jsx)("p",{children:"TrioBazaar Fashion"}),(0,c.jsx)("p",{children:"Osogbo, Osun State, Nigeria"}),(0,c.jsx)("p",{children:"Open Monday - Saturday: 9am - 6pm"})]})]})]})})]})},B="https://triobazar-website.onrender.com/api",O=24,D={token:"adminToken",role:"userRole",loginTime:"loginTime"},M=(0,t.createContext)(),R=()=>(0,t.useContext)(M),W=e=>{let{children:a}=e;const[s,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[d,m]=(0,t.useState)(null);(0,t.useEffect)((()=>{h()}),[]);const h=async()=>{l(!0);const e=localStorage.getItem("adminToken"),a=localStorage.getItem("userRole"),s=localStorage.getItem("loginTime");if(!e)return n(!1),i(null),void l(!1);if(s){const e=new Date(s);if(new Date-e>60*O*60*1e3)return u(),void l(!1)}try{const s=await fetch(`${B}/auth/verify`,{method:"GET",headers:{"x-auth-token":e}});if(s.ok)n(!0),i(a),m(null);else{console.log("Server rejected the token:",s.status);const e=await s.json().catch((()=>({message:"Authentication failed"})));m(e.message||"Your session has expired. Please log in again."),u()}}catch(t){console.error("Error verifying token with server:",t),console.warn("Unable to verify token with server. Using client-side validation as fallback."),n(!0),i(a),m(null)}finally{l(!1)}},u=()=>{localStorage.removeItem(D.token),localStorage.removeItem(D.role),localStorage.removeItem(D.loginTime),n(!1),i(null)},x={isAuthenticated:s,userRole:r,loading:o,authError:d,login:(e,a)=>{localStorage.setItem(D.token,e),localStorage.setItem(D.role,a||"admin"),localStorage.setItem(D.loginTime,(new Date).toISOString()),n(!0),i(a||"admin"),m(null)},logout:u,isAdmin:()=>"admin"===r,checkAuthStatus:h,clearAuthError:()=>m(null)};return(0,c.jsx)(M.Provider,{value:x,children:a})},U=e=>{let{fullScreen:a=!1,message:s="Loading..."}=e;return(0,c.jsxs)("div",{className:"loading-container "+(a?"fullscreen":""),children:[(0,c.jsx)("div",{className:"loading-spinner"}),s&&(0,c.jsx)("p",{className:"loading-message",children:s})]})},L=()=>{const[e,a]=(0,t.useState)({username:"",password:""}),[s,n]=(0,t.useState)(""),[r,o]=(0,t.useState)(!1),l=(0,i.Zp)(),d=(0,i.zy)(),{login:m,isAuthenticated:h,authError:u,clearAuthError:x}=R();(0,t.useEffect)((()=>{h&&l("/admin/dashboard")}),[h,l]),(0,t.useEffect)((()=>{var e;null!==(e=d.state)&&void 0!==e&&e.authError?(n(d.state.authError),window.history.replaceState({},document.title)):u&&(n(u),x())}),[d.state,u,x]);const p=s=>{a({...e,[s.target.name]:s.target.value})};return(0,c.jsx)("div",{className:"admin-login-page",children:(0,c.jsxs)("div",{className:"admin-login-container",children:[(0,c.jsx)("div",{className:"admin-login-logo",children:(0,c.jsx)("h1",{children:"TrioBazaar Admin"})}),(0,c.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),n(""),o(!0);try{const a=await fetch(`${B}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await a.json();var s;if(a.ok)m(t.token,(null===(s=t.user)||void 0===s?void 0:s.role)||"admin"),l("/admin/dashboard");else n(t.message||"Invalid credentials")}catch(t){n("Network error. Please check your connection and try again."),console.error("Login error:",t)}finally{o(!1)}},className:"admin-login-form",children:[(0,c.jsx)("h2",{children:"Sign In"}),s&&(0,c.jsx)("div",{className:"error-message",children:s}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"username",children:"Username"}),(0,c.jsx)("input",{type:"text",id:"username",name:"username",value:e.username,onChange:p,disabled:r,required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"password",children:"Password"}),(0,c.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:p,disabled:r,required:!0})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,children:r?"Signing In...":"Login"}),r&&(0,c.jsx)("div",{className:"login-loading-container",children:(0,c.jsx)(U,{message:"Authenticating..."})})]})]})})},V=(0,t.createContext)(),H=e=>{let{children:a}=e;const[s,n]=(0,t.useState)((()=>{const e=localStorage.getItem("trioBazaarPageViews");return e?JSON.parse(e):{}})),r=(0,i.zy)();(0,t.useEffect)((()=>{const e=r.pathname;n((a=>{const s={...a,[e]:(a[e]||0)+1};return localStorage.setItem("trioBazaarPageViews",JSON.stringify(s)),s}))}),[r.pathname]);return(0,c.jsx)(V.Provider,{value:{pageViews:s,getTotalViews:()=>Object.values(s).reduce(((e,a)=>e+a),0),resetViews:()=>{localStorage.removeItem("trioBazaarPageViews"),n({})}},children:a})},G=()=>{const{isAuthenticated:e,loading:a,authError:s}=R();return a?(0,c.jsx)(U,{message:"Verifying your credentials..."}):s?(0,c.jsx)(i.C5,{to:"/admin/login",state:{authError:s}}):e?(0,c.jsx)(i.sv,{}):(0,c.jsx)(i.C5,{to:"/admin/login"})},Y=e=>{let{children:a}=e;const[s,n]=(0,t.useState)(!0),o=(0,i.zy)(),l=(0,i.Zp)(),{logout:d}=R();return(0,c.jsxs)("div",{className:"admin-layout",children:[(0,c.jsxs)("div",{className:"admin-sidebar "+(s?"open":"closed"),children:[(0,c.jsxs)("div",{className:"sidebar-header",children:[(0,c.jsx)("h2",{children:"TrioBazaar"}),(0,c.jsx)("button",{className:"toggle-btn",onClick:()=>{n(!s)},children:s?"\u2190":"\u2192"})]}),(0,c.jsx)("nav",{className:"sidebar-nav",children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{className:"/admin/dashboard"===o.pathname?"active":"",children:(0,c.jsxs)(r.N_,{to:"/admin/dashboard",children:[(0,c.jsx)(_.$BV,{}),(0,c.jsx)("span",{children:"Dashboard"})]})}),(0,c.jsx)("li",{className:o.pathname.includes("/admin/products")?"active":"",children:(0,c.jsxs)(r.N_,{to:"/admin/products",children:[(0,c.jsx)(_.TXh,{}),(0,c.jsx)("span",{children:"Products"})]})}),(0,c.jsx)("li",{className:o.pathname.includes("/admin/content")?"active":"",children:(0,c.jsxs)(r.N_,{to:"/admin/content",children:[(0,c.jsx)(_.uO9,{}),(0,c.jsx)("span",{children:"Content"})]})}),(0,c.jsx)("li",{className:"/admin/settings"===o.pathname?"active":"",children:(0,c.jsxs)(r.N_,{to:"/admin/settings",children:[(0,c.jsx)(_.Pcn,{}),(0,c.jsx)("span",{children:"Settings"})]})})]})}),(0,c.jsx)("div",{className:"sidebar-footer",children:(0,c.jsxs)("button",{onClick:()=>{d(),l("/admin/login")},className:"logout-btn",children:[(0,c.jsx)(_.axc,{}),(0,c.jsx)("span",{children:"Logout"})]})})]}),(0,c.jsx)("div",{className:"admin-content",children:a})]})},X=()=>{const{products:e}=j(),{getTotalViews:a}=(0,t.useContext)(V),{logout:s}=R(),n=(0,i.Zp)();return(0,c.jsx)(Y,{children:(0,c.jsxs)("div",{className:"admin-dashboard",children:[(0,c.jsxs)("div",{className:"admin-header",children:[(0,c.jsx)("h1",{children:"Dashboard"}),(0,c.jsxs)("button",{onClick:()=>{s(),n("/admin/login")},className:"btn btn-outline",children:[(0,c.jsx)(_.axc,{})," Logout"]})]}),(0,c.jsxs)("div",{className:"admin-stats",children:[(0,c.jsxs)("div",{className:"stat-card",children:[(0,c.jsx)("div",{className:"stat-icon",children:(0,c.jsx)(_.TXh,{})}),"            ",(0,c.jsxs)("div",{className:"stat-details",children:[(0,c.jsx)("h3",{children:"Total Products"}),(0,c.jsx)("p",{className:"stat-number",children:e.length})]})]}),(0,c.jsxs)("div",{className:"stat-card",children:[(0,c.jsx)("div",{className:"stat-icon",children:(0,c.jsx)(_.YYR,{})}),(0,c.jsxs)("div",{className:"stat-details",children:[(0,c.jsx)("h3",{children:"Page Views"}),(0,c.jsx)("p",{className:"stat-number",children:a()})]})]})]}),(0,c.jsxs)("div",{className:"admin-quick-actions",children:[(0,c.jsx)("h2",{children:"Quick Actions"}),(0,c.jsxs)("div",{className:"actions-grid",children:[(0,c.jsxs)(r.N_,{to:"/admin/products/add",className:"action-card",children:[(0,c.jsx)("div",{className:"action-icon",children:(0,c.jsx)(_.TXh,{})}),(0,c.jsx)("h3",{children:"Add New Product"}),(0,c.jsx)("p",{children:"Upload and manage new products"})]}),"            ",(0,c.jsxs)(r.N_,{to:"/admin/testimonials",className:"action-card",children:[(0,c.jsx)("div",{className:"action-icon",children:(0,c.jsx)(_.uO9,{})}),(0,c.jsx)("h3",{children:"Manage Testimonials"}),(0,c.jsx)("p",{children:"Add and edit customer reviews"})]}),(0,c.jsxs)(r.N_,{to:"/admin/messages",className:"action-card",children:[(0,c.jsx)("div",{className:"action-icon",children:(0,c.jsx)(_.maD,{})}),(0,c.jsx)("h3",{children:"Messages"}),(0,c.jsx)("p",{children:"View customer inquiries"})]}),(0,c.jsxs)(r.N_,{to:"/admin/content",className:"action-card",children:[(0,c.jsx)("div",{className:"action-icon",children:(0,c.jsx)(_.uO9,{})}),(0,c.jsx)("h3",{children:"Edit Content"}),(0,c.jsx)("p",{children:"Update website content and information"})]})]})]})]})})},Z=()=>{const{products:e,addProduct:a,updateProduct:s,deleteProduct:n,deleteAllProducts:r}=j(),o=(0,i.zy)(),[l,d]=(0,t.useState)(!1),[m,h]=(0,t.useState)(!1),[u,x]=(0,t.useState)(!1),[p,g]=(0,t.useState)(null),[v,N]=(0,t.useState)(null),[f,b]=(0,t.useState)({name:"",code:"",category:"",description:"",price:"",image:null});(0,t.useEffect)((()=>{"/admin/products/add"===o.pathname&&d(!0)}),[o.pathname]);const y=e=>{const{name:a,value:s}=e.target;b({...f,[a]:s})},w=e=>{b({...f,image:e.target.files[0]})};return(0,c.jsxs)(Y,{children:[(0,c.jsxs)("div",{className:"product-manager",children:[(0,c.jsxs)("div",{className:"admin-header",children:[(0,c.jsx)("h1",{children:"Product Management"}),(0,c.jsxs)("div",{className:"admin-actions",children:[(0,c.jsxs)("button",{className:"btn btn-primary",onClick:()=>d(!l),children:[(0,c.jsx)(_.OiG,{})," Add New Product"]}),e.length>0&&(0,c.jsxs)("button",{className:"btn btn-danger",onClick:()=>x(!0),children:[(0,c.jsx)(_.qbC,{})," Delete All Products"]})]})]}),l&&(0,c.jsxs)("div",{className:"add-product-form",children:["            ",(0,c.jsx)("h2",{children:"Add New Product"}),p&&(0,c.jsx)("div",{className:"error-message",children:p}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),g("");try{if(!f.name||f.name.trim().length<3)return void g("Product name must be at least 3 characters");if(!f.category)return void g("Category is required");const e=f.code||(e=>{let a="";const s=e.split(" ");s.length>0?(a+=s[0].substring(0,2).toUpperCase(),s.length>1&&(a+=s[1].substring(0,1).toUpperCase())):a="PR";const t=(new Date).getTime(),n=Math.floor(1e3*Math.random()).toString().padStart(3,"0");return`${a}-${t.toString().slice(-6)}${n}`})(f.category);await a({name:f.name,code:e,category:f.category,description:f.description||"",price:f.price||"0",image:f.image||"placeholder.jpg",createdAt:(new Date).toISOString(),ratings:[],averageRating:0,numReviews:0,inStock:!0,featured:!1}),b({name:"",code:"",category:"",description:"",price:"",image:null}),d(!1),alert("Product added successfully!")}catch(s){console.error("Error adding product:",s),g(s.message||"Failed to add product. Please try again.")}},children:[(0,c.jsxs)("div",{className:"form-grid",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"name",children:"Product Name"}),(0,c.jsx)("input",{type:"text",id:"name",name:"name",value:f.name,onChange:y,required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"code",children:"Product Code"}),(0,c.jsx)("input",{type:"text",id:"code",name:"code",value:f.code,onChange:y,required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"category",children:"Category"}),(0,c.jsxs)("select",{id:"category",name:"category",value:f.category,onChange:y,required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select Category"}),(0,c.jsx)("option",{value:"Women",children:"Women"}),(0,c.jsx)("option",{value:"Men",children:"Men"}),(0,c.jsx)("option",{value:"Children",children:"Children"})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"price",children:"Price (Optional)"}),(0,c.jsx)("input",{type:"text",id:"price",name:"price",value:f.price,onChange:y})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"description",children:"Description"}),(0,c.jsx)("textarea",{id:"description",name:"description",value:f.description,onChange:y,rows:"4"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"image",children:"Product Image"}),(0,c.jsx)("input",{type:"file",id:"image",name:"image",onChange:w,accept:"image/*"})]}),(0,c.jsxs)("div",{className:"form-actions",children:[(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Product"}),(0,c.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>d(!1),children:"Cancel"})]})]})]}),m&&(0,c.jsxs)("div",{className:"add-product-form",children:[(0,c.jsx)("h2",{children:"Edit Product"}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if("object"===typeof f.image&&f.image instanceof File){const e=new FormData;e.append("name",f.name),e.append("code",f.code),e.append("category",f.category),e.append("description",f.description||""),e.append("price",f.price||"0"),e.append("image",f.image);const a=localStorage.getItem("adminToken");if(!a)throw new Error("Authentication required. Please log in again.");if(!(await fetch(`/api/products/${v}/with-image`,{method:"PUT",headers:{"x-auth-token":a},body:e})).ok)throw new Error("Failed to update product");alert("Product updated successfully!")}else await s(v,{name:f.name,code:f.code,category:f.category,description:f.description,price:f.price,image:f.image}),alert("Product updated successfully!");b({name:"",code:"",category:"",description:"",price:"",image:null}),h(!1),N(null)}catch(a){console.error("Error updating product:",a),g(a.message||"Failed to update product. Please try again.")}},children:[(0,c.jsxs)("div",{className:"form-grid",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"name",children:"Product Name"}),(0,c.jsx)("input",{type:"text",id:"edit-name",name:"name",value:f.name,onChange:y,required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"code",children:"Product Code"}),(0,c.jsx)("input",{type:"text",id:"edit-code",name:"code",value:f.code,onChange:y,required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"category",children:"Category"}),(0,c.jsxs)("select",{id:"edit-category",name:"category",value:f.category,onChange:y,required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select Category"}),(0,c.jsx)("option",{value:"Women",children:"Women"}),(0,c.jsx)("option",{value:"Men",children:"Men"}),(0,c.jsx)("option",{value:"Children",children:"Children"})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"price",children:"Price (Optional)"}),(0,c.jsx)("input",{type:"text",id:"edit-price",name:"price",value:f.price,onChange:y})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"description",children:"Description"}),(0,c.jsx)("textarea",{id:"edit-description",name:"description",value:f.description,onChange:y,rows:"4"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"image",children:"Product Image"}),(0,c.jsx)("input",{type:"file",id:"edit-image",name:"image",onChange:w,accept:"image/*"}),"string"===typeof f.image&&"placeholder.jpg"!==f.image&&(0,c.jsxs)("div",{className:"current-image",children:[(0,c.jsx)("p",{children:"Current image:"}),(0,c.jsx)("img",{src:f.image,alt:"Current product",style:{maxHeight:"100px"}})]})]}),(0,c.jsxs)("div",{className:"form-actions",children:[(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update Product"}),(0,c.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{h(!1),N(null),b({name:"",code:"",category:"",description:"",price:"",image:null})},children:"Cancel"})]})]})]}),(0,c.jsx)("div",{className:"products-table-container",children:(0,c.jsxs)("table",{className:"products-table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Image"}),(0,c.jsx)("th",{children:"Name"}),(0,c.jsx)("th",{children:"Code"}),(0,c.jsx)("th",{children:"Category"}),(0,c.jsx)("th",{children:"Actions"})]})}),"            ",(0,c.jsx)("tbody",{children:e.map((e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("div",{className:"product-image",children:(0,c.jsx)("img",{src:"placeholder.jpg"===e.image?"https://via.placeholder.com/50":e.image,alt:e.name})})}),(0,c.jsx)("td",{children:e.name}),(0,c.jsx)("td",{children:e.code}),(0,c.jsx)("td",{children:e.category}),(0,c.jsx)("td",{children:(0,c.jsxs)("div",{className:"action-buttons",children:["                      ",(0,c.jsx)("button",{className:"edit-btn",onClick:()=>(e=>{N(e._id),b({name:e.name,code:e.code,category:e.category,description:e.description,price:e.price,image:e.image}),h(!0)})(e),children:(0,c.jsx)(_.uO9,{})}),(0,c.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this product?"))try{await n(e),alert("Product deleted successfully!")}catch(a){console.error("Error deleting product:",a),alert("Failed to delete product. Please try again.")}})(e._id),children:(0,c.jsx)(_.qbC,{})})]})})]},e._id)))})]})})]}),u&&(0,c.jsx)("div",{className:"modal-overlay",children:(0,c.jsxs)("div",{className:"modal-content delete-confirm-modal",children:[(0,c.jsx)("div",{className:"modal-header",children:(0,c.jsxs)("h3",{children:[(0,c.jsx)(_.BS8,{})," Confirm Deletion"]})}),(0,c.jsxs)("div",{className:"modal-body",children:[(0,c.jsx)("p",{children:"Are you sure you want to delete ALL products? This action cannot be undone."}),(0,c.jsx)("p",{children:(0,c.jsxs)("strong",{children:["This will permanently remove ",e.length," products from your database."]})})]}),(0,c.jsxs)("div",{className:"modal-footer",children:[(0,c.jsx)("button",{className:"btn btn-danger",onClick:async()=>{try{const e=await r();x(!1),e&&e.deletedCount>0?alert(`Operation successful!\n${e.deletedCount} products deleted.\n${e.imagesDeleted||0} product images removed.`):alert("No products were found to delete.")}catch(e){console.error("Error deleting all products:",e),g(e.message||"Failed to delete all products. Please try again."),x(!1)}},children:"Yes, Delete All Products"}),(0,c.jsx)("button",{className:"btn btn-secondary",onClick:()=>x(!1),children:"Cancel"})]})]})})]})},J=()=>{const{testimonials:e,addTestimonial:a,updateTestimonial:s,deleteTestimonial:n}=y(),[r,i]=(0,t.useState)({_id:null,text:"",name:"",role:"",gender:"male"}),[o,l]=(0,t.useState)(!1),d=e=>{const{name:a,value:s}=e.target;i({...r,[a]:s})};return(0,t.useEffect)((()=>{}),[]),(0,c.jsx)(Y,{children:(0,c.jsxs)("div",{className:"admin-section",children:[(0,c.jsx)("h2",{children:"Manage Testimonials"}),(0,c.jsxs)("form",{className:"admin-form",onSubmit:e=>{if(e.preventDefault(),console.log("Submitting testimonial:",r),o)s(r),l(!1);else{const e={...r,text:r.text.trim(),name:r.name.trim(),role:r.role.trim()};console.log("Adding new testimonial:",e),a(e)}i({_id:null,text:"",name:"",role:"",gender:"male"})},children:[(0,c.jsx)("h3",{children:o?"Edit Testimonial":"Add New Testimonial"}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"name",children:"Client Name"}),(0,c.jsx)("input",{type:"text",id:"name",name:"name",value:r.name,onChange:d,required:!0,placeholder:"Enter client name"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"role",children:"Client Role/Title"}),(0,c.jsx)("input",{type:"text",id:"role",name:"role",value:r.role,onChange:d,required:!0,placeholder:"e.g. Business Executive, Satisfied Customer"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"gender",children:"Gender (for avatar)"}),(0,c.jsxs)("select",{id:"gender",name:"gender",value:r.gender,onChange:d,required:!0,children:[(0,c.jsx)("option",{value:"male",children:"Male"}),(0,c.jsx)("option",{value:"female",children:"Female"})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"text",children:"Testimonial"}),(0,c.jsx)("textarea",{id:"text",name:"text",value:r.text,onChange:d,required:!0,rows:"4",placeholder:"Enter the client testimonial text"})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:o?"Update Testimonial":"Add Testimonial"}),o&&(0,c.jsx)("button",{type:"button",className:"btn btn-outline",onClick:()=>{l(!1),i({_id:null,text:"",name:"",role:"",gender:"male"})},children:"Cancel"})]}),(0,c.jsxs)("div",{className:"admin-data-list",children:[(0,c.jsx)("h3",{children:"Existing Testimonials"}),0===e.length?(0,c.jsx)("p",{children:"No testimonials available."}):(0,c.jsxs)("table",{className:"admin-table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Name"}),(0,c.jsx)("th",{children:"Role"}),(0,c.jsx)("th",{children:"Gender"}),(0,c.jsx)("th",{children:"Testimonial"}),(0,c.jsx)("th",{children:"Actions"})]})}),"              ",(0,c.jsx)("tbody",{children:e.map((e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsxs)("div",{className:"testimonial-name-cell",children:[(0,c.jsx)("img",{src:"female"===e.gender?"https://cdn.pixabay.com/photo/2014/04/02/14/10/female-306407_960_720.png":"https://cdn.pixabay.com/photo/2014/04/02/14/10/male-306408_960_720.png",alt:`${e.name} avatar`,className:"testimonial-avatar"}),(0,c.jsx)("span",{children:e.name})]})}),(0,c.jsx)("td",{children:e.role}),(0,c.jsx)("td",{children:e.gender}),(0,c.jsx)("td",{className:"testimonial-text-cell",children:e.text.length>100?`${e.text.substring(0,100)}...`:e.text}),(0,c.jsxs)("td",{className:"actions-cell",children:[(0,c.jsx)("button",{className:"btn-icon edit",onClick:()=>(e=>{i(e),l(!0)})(e),children:(0,c.jsx)(_.uO9,{})}),"                    ",(0,c.jsx)("button",{className:"btn-icon delete",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this testimonial?"))try{await n(e),alert("Testimonial deleted successfully")}catch(a){console.error("Error deleting testimonial:",a),alert("Failed to delete testimonial. Please try again.")}})(e._id),children:(0,c.jsx)(_.qbC,{})})]})]},e._id)))})]})]})]})})},Q=()=>{const{messages:e,markAsRead:a,deleteMessage:s}=E();return(0,c.jsx)(Y,{children:(0,c.jsxs)("div",{className:"admin-messages",children:[(0,c.jsxs)("div",{className:"admin-header",children:[(0,c.jsx)("h1",{children:"Messages"}),(0,c.jsxs)("div",{className:"messages-count",children:[(0,c.jsxs)("span",{children:[e.filter((e=>!e.read)).length," unread"]}),(0,c.jsxs)("span",{children:[e.length," total"]})]})]}),(0,c.jsx)("div",{className:"messages-container",children:0===e.length?(0,c.jsxs)("div",{className:"no-messages",children:[(0,c.jsx)(_.maD,{}),(0,c.jsx)("p",{children:"No messages yet"})]}):(0,c.jsx)("div",{className:"messages-list",children:e.map((e=>{return(0,c.jsxs)("div",{className:"message-card "+(e.read?"":"unread"),children:[(0,c.jsxs)("div",{className:"message-header",children:[(0,c.jsx)("h3",{children:e.name}),(0,c.jsx)("span",{className:"message-time",children:(t=e.timestamp,new Date(t).toLocaleString())})]}),(0,c.jsxs)("div",{className:"message-content",children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,c.jsx)("p",{className:"message-text",children:e.message})]}),(0,c.jsxs)("div",{className:"message-actions",children:["                    ",!e.read&&(0,c.jsxs)("button",{className:"btn btn-primary",onClick:()=>{return s=e._id,void a(s);var s},children:[(0,c.jsx)(_.A7C,{})," Mark as Read"]}),(0,c.jsxs)("button",{className:"btn btn-danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this message?"))try{await s(e),alert("Message deleted successfully")}catch(a){console.error("Error deleting message:",a),alert("Failed to delete message. Please try again.")}})(e._id),children:[(0,c.jsx)(_.qbC,{})," Delete"]})]})]},e._id);var t}))})})]})})};const K=function(){return(0,c.jsx)(W,{children:(0,c.jsx)(v,{children:(0,c.jsx)(k,{children:(0,c.jsx)(F,{children:(0,c.jsx)(r.Kd,{children:(0,c.jsx)(H,{children:(0,c.jsxs)("div",{className:"app",children:[(0,c.jsx)(l,{}),(0,c.jsx)("main",{className:"main-content",children:(0,c.jsxs)(i.BV,{children:[(0,c.jsx)(i.qh,{path:"/",element:(0,c.jsx)(S,{})}),(0,c.jsx)(i.qh,{path:"/about",element:(0,c.jsx)(T,{})}),(0,c.jsx)(i.qh,{path:"/products",element:(0,c.jsx)(A,{})}),(0,c.jsx)(i.qh,{path:"/products/:productId",element:(0,c.jsx)(I,{})}),(0,c.jsx)(i.qh,{path:"/contact",element:(0,c.jsx)($,{})}),(0,c.jsx)(i.qh,{path:"/admin/login",element:(0,c.jsx)(L,{})}),(0,c.jsx)(i.qh,{path:"/admin",element:(0,c.jsx)(i.C5,{to:"/admin/dashboard",replace:!0})}),(0,c.jsxs)(i.qh,{element:(0,c.jsx)(G,{}),children:[(0,c.jsx)(i.qh,{path:"/admin/dashboard",element:(0,c.jsx)(X,{})}),(0,c.jsx)(i.qh,{path:"/admin/products",element:(0,c.jsx)(Z,{})}),(0,c.jsx)(i.qh,{path:"/admin/products/add",element:(0,c.jsx)(Z,{})}),(0,c.jsx)(i.qh,{path:"/admin/testimonials",element:(0,c.jsx)(J,{})}),(0,c.jsx)(i.qh,{path:"/admin/messages",element:(0,c.jsx)(Q,{})})]})]})}),(0,c.jsx)(d,{})]})})})})})})})},ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ae(e,a){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const s=e.installing;null!=s&&(s.onstatechange=()=>{"installed"===s.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}n.createRoot(document.getElementById("root")).render((0,c.jsx)(t.StrictMode,{children:(0,c.jsx)(K,{})})),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const a="/service-worker.js";ee?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((s=>{const t=s.headers.get("content-type");404===s.status||null!=t&&-1===t.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):ae(e,a)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ae(a,e)}))}}()},206:(e,a,s)=>{e.exports=s.p+"static/media/triobazaar-logo.324dfe761393c59284bc.png"}},a={};function s(t){var n=a[t];if(void 0!==n)return n.exports;var r=a[t]={exports:{}};return e[t](r,r.exports,s),r.exports}s.m=e,(()=>{var e=[];s.O=(a,t,n,r)=>{if(!t){var i=1/0;for(d=0;d<e.length;d++){t=e[d][0],n=e[d][1],r=e[d][2];for(var o=!0,c=0;c<t.length;c++)(!1&r||i>=r)&&Object.keys(s.O).every((e=>s.O[e](t[c])))?t.splice(c--,1):(o=!1,r<i&&(i=r));if(o){e.splice(d--,1);var l=n();void 0!==l&&(a=l)}}return a}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[t,n,r]}})(),s.d=(e,a)=>{for(var t in a)s.o(a,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},s.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),s.p="/",(()=>{var e={792:0};s.O.j=a=>0===e[a];var a=(a,t)=>{var n,r,i=t[0],o=t[1],c=t[2],l=0;if(i.some((a=>0!==e[a]))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(c)var d=c(s)}for(a&&a(t);l<i.length;l++)r=i[l],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},t=self.webpackChunkclient=self.webpackChunkclient||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var t=s.O(void 0,[386,666,49,90,825,180,706,174],(()=>s(100)));t=s.O(t)})();